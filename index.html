<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Tiffyverse 6-Image Sky</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
  <script src="/socket.io/socket.io.js"></script>
  <script defer src="client.js"></script>
</head>
<body>
  <a-scene>
    <!-- Player camera -->
    <a-entity id="player" camera look-controls wasd-controls position="0 1.6 0"></a-entity>

    <!-- Ground plane -->
    <a-plane src="#bottomImg" rotation="-90 0 0" width="200" height="200" position="0 0 0"></a-plane>

    <!-- Skybox using 6 images -->
    <a-sky id="skybox" src="#frontImg"></a-sky>

    <a-assets>
      <!-- Sky images -->
      <img id="frontImg" src="assets/front.jpg">
      <img id="backImg" src="assets/back.jpg">
      <img id="leftImg" src="assets/left.jpg">
      <img id="rightImg" src="assets/right.jpg">
      <img id="topImg" src="assets/top.jpg">
      <img id="bottomImg" src="assets/bottom.jpg">
    </a-assets>

    <script>
      // Apply cube map manually using THREE.js
      const scene = document.querySelector('a-scene');
      scene.addEventListener('loaded', () => {
        const loader = new THREE.CubeTextureLoader();
        const cubeTex = loader.load([
          document.querySelector('#rightImg').src,  // px
          document.querySelector('#leftImg').src,   // nx
          document.querySelector('#topImg').src,    // py
          document.querySelector('#bottomImg').src, // ny
          document.querySelector('#frontImg').src,  // pz
          document.querySelector('#backImg').src    // nz
        ]);
        scene.object3D.background = cubeTex;
      });
    </script>
  </a-scene>
</body>
</html>
